<html>
<head>
<script>

var CSS_COLOR_NAMES = ["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black",
"BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral",
"CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGreen",
"DarkKhaki","DarkMagenta","DarkOliveGreen","Darkorange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen",
"DarkSlateBlue","DarkSlateGray","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DodgerBlue",
"FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Green",
"GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen",
"LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGrey","LightGreen","LightPink",
"LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSteelBlue","LightYellow","Lime","LimeGreen",
"Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen",
"MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose",
"Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen",
"PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","Red","RosyBrown",
"RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray",
"Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow",
"YellowGreen"];

var arrRes = new Array();
for (index = 0; index < CSS_COLOR_NAMES.length-1; index++) {
    var bres;
	bres = checkcontrast(colourNameToHex(CSS_COLOR_NAMES[index]), CSS_COLOR_NAMES[index]);
	if (!bres) {
		arrRes.push(CSS_COLOR_NAMES[index]);
	}
}
document.write(arrRes);
function checkcontrast(color, htmlname) {

	var bresult = true;
	//var color = "DEB887";
	var origcolor = color;
	var L1= (.241 * getRed(color) * getRed(color) + .691 * getGreen(color) * getGreen(color) + .068 * getBlue(color) * getBlue(color)) /(255*255);
	var bgcolor = 0;

	for (var i=0; i<255;i++) {

		if (L1 > 0.25) {
			bgcolor = darken(color, 1);
		} else {
			bgcolor = lighten(color, 1);
		}	
		var L2 = (.241 * getRed(bgcolor) * getRed(bgcolor) + .691 * getGreen(bgcolor) * getGreen(bgcolor) + .068 * getBlue(bgcolor) * getBlue(color)) /(255*255);
		var ratio = (Math.max(L1, L2) + 0.065)/(Math.min(L1, L2) + 0.065);
		var threshold = (Math.round(ratio*100)/100);
		
		if (threshold > 4.5) {
			var wcag = checkcontrast2(origcolor, bgcolor);
			if (wcag < 4.5) {
				document.write("<div style=\"color:yellow; background-color:red; font-weight:700\"><h1>PROBLEM BELOW!!!!</h1></div>");
				bresult = false;
			}
			document.write("<div style=\"background-color:#" + origcolor + "; border: 1px solid #"+ darken(origcolor, 40) + "\">");
			document.write("<div style=\"color: #" + bgcolor + "\"><h1>" +htmlname + ": " + i + ". " + threshold + ":1, back: " + origcolor + ", fore: " + bgcolor + " border: " + darken(origcolor, 40) + "; WCAG: " + wcag + " </h1></div>");
			document.write("</div><br>");
			break;
		}
		color=bgcolor;
	}
	return bresult;
}

function colourNameToHex(colour)
{
    var colours = {"aliceblue":"f0f8ff","antiquewhite":"faebd7","aqua":"00ffff","aquamarine":"7fffd4","azure":"f0ffff",
    "beige":"f5f5dc","bisque":"ffe4c4","black":"000000","blanchedalmond":"ffebcd","blue":"0000ff","blueviolet":"8a2be2","brown":"a52a2a","burlywood":"deb887",
    "cadetblue":"5f9ea0","chartreuse":"7fff00","chocolate":"d2691e","coral":"ff7f50","cornflowerblue":"6495ed","cornsilk":"fff8dc","crimson":"dc143c","cyan":"00ffff",
    "darkblue":"00008b","darkcyan":"008b8b","darkgoldenrod":"b8860b","darkgray":"a9a9a9","darkgreen":"006400","darkkhaki":"bdb76b","darkmagenta":"8b008b","darkolivegreen":"556b2f",
    "darkorange":"ff8c00","darkorchid":"9932cc","darkred":"8b0000","darksalmon":"e9967a","darkseagreen":"8fbc8f","darkslateblue":"483d8b","darkslategray":"2f4f4f","darkturquoise":"00ced1",
    "darkviolet":"9400d3","deeppink":"ff1493","deepskyblue":"00bfff","dimgray":"696969","dodgerblue":"1e90ff",
    "firebrick":"b22222","floralwhite":"fffaf0","forestgreen":"228b22","fuchsia":"ff00ff",
    "gainsboro":"dcdcdc","ghostwhite":"f8f8ff","gold":"ffd700","goldenrod":"daa520","gray":"808080","green":"008000","greenyellow":"adff2f",
    "honeydew":"f0fff0","hotpink":"ff69b4",
    "indianred":"cd5c5c","indigo":"4b0082","ivory":"fffff0","khaki":"f0e68c",
    "lavender":"e6e6fa","lavenderblush":"fff0f5","lawngreen":"7cfc00","lemonchiffon":"fffacd","lightblue":"add8e6","lightcoral":"f08080","lightcyan":"e0ffff","lightgoldenrodyellow":"fafad2",
    "lightgrey":"d3d3d3","lightgreen":"90ee90","lightpink":"ffb6c1","lightsalmon":"ffa07a","lightseagreen":"20b2aa","lightskyblue":"87cefa","lightslategray":"778899","lightsteelblue":"b0c4de",
    "lightyellow":"ffffe0","lime":"00ff00","limegreen":"32cd32","linen":"faf0e6",
    "magenta":"ff00ff","maroon":"800000","mediumaquamarine":"66cdaa","mediumblue":"0000cd","mediumorchid":"ba55d3","mediumpurple":"9370d8","mediumseagreen":"3cb371","mediumslateblue":"7b68ee",
    "mediumspringgreen":"00fa9a","mediumturquoise":"48d1cc","mediumvioletred":"c71585","midnightblue":"191970","mintcream":"f5fffa","mistyrose":"ffe4e1","moccasin":"ffe4b5",
    "navajowhite":"ffdead","navy":"000080",
    "oldlace":"fdf5e6","olive":"808000","olivedrab":"6b8e23","orange":"ffa500","orangered":"ff4500","orchid":"da70d6",
    "palegoldenrod":"eee8aa","palegreen":"98fb98","paleturquoise":"afeeee","palevioletred":"d87093","papayawhip":"ffefd5","peachpuff":"ffdab9","peru":"cd853f","pink":"ffc0cb","plum":"dda0dd","powderblue":"b0e0e6","purple":"800080",
    "rebeccapurple":"663399","red":"ff0000","rosybrown":"bc8f8f","royalblue":"4169e1",
    "saddlebrown":"8b4513","salmon":"fa8072","sandybrown":"f4a460","seagreen":"2e8b57","seashell":"fff5ee","sienna":"a0522d","silver":"c0c0c0","skyblue":"87ceeb","slateblue":"6a5acd","slategray":"708090","snow":"fffafa","springgreen":"00ff7f","steelblue":"4682b4",
    "tan":"d2b48c","teal":"008080","thistle":"d8bfd8","tomato":"ff6347","turquoise":"40e0d0",
    "violet":"ee82ee",
    "wheat":"f5deb3","white":"ffffff","whitesmoke":"f5f5f5",
    "yellow":"ffff00","yellowgreen":"9acd32"};

    if (typeof colours[colour.toLowerCase()] != 'undefined')
        return colours[colour.toLowerCase()];

    return false;
}
function checkcontrast2(color, bgcolor) {
	var L1 = getL(color);
	var L2 = getL(bgcolor);
	var ratio = (Math.max(L1, L2) + 0.05)/(Math.min(L1, L2) + 0.05);		
	var threshold = (Math.round(ratio*100)/100);
	return threshold;
}


function getL(color) {

	var R = getsRGB(color.substring(0,2));


	var G = getsRGB(color.substring(2,4));
	var B = getsRGB(color.substring(4,6));
	var L = (0.2126 * R + 0.7152 * G + 0.0722 * B);
	return L;
}

function getRed(color) {

	return Math.round(parseInt(color.substring(0,2), 16));
}
function getGreen(color) {

	return Math.round(parseInt(color.substring(2,4), 16));
}
function getBlue(color) {

	return Math.round(parseInt(color.substring(4,6), 16));
}

function lighten(color, percent) {
	var red = getRed(color);
	var green = getGreen(color);
	var blue = getBlue(color);

	rdiff = 255-red;
	gdiff = 255-green;
	bdiff = 255-blue;

	red += Math.round(rdiff * percent / 100);
	green += Math.round(gdiff * percent / 100);
	blue += Math.round(bdiff * percent / 100);

	return rgbToHex(Math.min(red, 255), Math.min(green, 255), Math.min(blue, 255));
}
function darken(color, percent) {
	var red = getRed(color);
	var green = getGreen(color);
	var blue = getBlue(color);

	red -= Math.round(red * percent / 100);
	green -= Math.round(green * percent / 100);
	blue -= Math.round(blue * percent / 100);

	return rgbToHex(Math.max(red, 0), Math.max(green, 0), Math.max(blue, 0));
}
function rgbToHex(r, g, b) {
    return ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
}

function getsRGB(color) {
	color=getRGB(color);
	color = color/255;
	color = (color <= 0.03928) ? color/12.92 : Math.pow(((color + 0.055)/1.055), 2.4);
	return color;	
}

function getRGB(color) {
	var color = parseInt(color, 16);	

	return color;
}


</script>
</head>
</html>
